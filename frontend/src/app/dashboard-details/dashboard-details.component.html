<mat-card class="details-card">
  <mat-card-content>
    <button (click)="closeClick()" style="right: -16px; top: -16px; position: absolute;" mat-mini-fab color="primary">
      <mat-icon>close</mat-icon>
    </button>

    <table cellpadding="0" cellspacing="0" border="0" width="100%">
      <tr>
        <td><b>{{callsign}}</b>
          <small *ngIf="routeNumber">/ {{routeNumber}}</small>
        </td>
      </tr>
    </table>

    <br/>

    <table cellpadding="0" cellspacing="0" border="0" width="100%" *ngIf="airportFromCode && airportToCode">
      <tr>
        <td width="10%">
          <span *ngIf="airportFromCountry"
                matTooltip="{{airportFromCountry.code}} - {{airportFromCountry.name}}"
                matTooltipPosition="right"
                [ngClass]="'flag-icon flag-icon-'+airportFromCountry.code.toLowerCase()"></span>
        </td>
        <td width="45%" class="airport-code" matTooltip="{{airportFromIata}} - {{airportFromName}}">
          {{airportFromCode}}
        </td>
        <td class="airport-arr">&rarr;</td>
        <td width="45%" class="airport-code" matTooltip="{{airportToIata}} - {{airportToName}}">
          {{airportToCode}}
        </td>
        <td width="10%" align="right">
          <span *ngIf="airportToCountry"
                matTooltip="{{airportToCountry.code}} - {{airportToCountry.name}}"
                matTooltipPosition="left"
                [ngClass]="'flag-icon flag-icon-'+airportToCountry.code.toLowerCase()"></span>
        </td>
      </tr>
      <tr>
        <td></td>
        <td class="airport-name">{{airportFromCity}}</td>
        <td></td>
        <td class="airport-name">{{airportToCity}}</td>
        <td></td>
      </tr>
    </table>

    <div *ngIf="aircraftType">
    <hr/>

    <table cellpadding="0" cellspacing="0" border="0" width="100%">
      <tr>
        <td align="center" colspan="2">
          <img style="max-height: 50px; max-width: 100%; opacity: 0.8; filter: alpha(opacity=80);"
               src="assets/types/{{aircraftType}}.png" onerror="this.src='assets/empty.png'"/>
        </td>
      </tr>
      <tr>
        <td width="30%"><a href="#">{{aircraftRegistration}}</a></td>
        <td align="right"><small>{{aircraftModel}}</small></td>
      </tr>
    </table>
    </div>

    <div *ngIf="airlineCode">
    <hr/>

    <table cellpadding="0" cellspacing="0" border="0" width="100%">
      <tr>
        <td align="center" colspan="2">
          <img style="max-height: 50px; max-width: 100%;"
               src="assets/airlines/{{airlineCode}}.png" onerror="this.src='assets/empty.png'"/>
        </td>
      </tr>
      <tr>
        <td width="20%"><a href="#">{{airlineCode}}</a></td>
        <td align="right"><small>{{airlineName}}</small></td>
      </tr>
      <tr *ngIf="airlineOperatedBy">
        <td colspan="2" align="right"><small>Operated by {{airlineOperatedBy}}</small></td>
      </tr>
    </table>
    </div>

    <hr/>

    <table *ngIf="flight" cellpadding="0" cellspacing="0" border="0" width="100%">
      <tr>
        <td width="15%" matTooltip="Altitude"><b>ALT</b></td>
        <td width="35%">
          <span *ngIf="flight.altitude">{{flight.altitude | number:'1.0'}}<small>ft</small></span>
          <span *ngIf="!flight.altitude">&mdash;</span>
        </td>
        <td width="15%" matTooltip="Speed"><b>SPD</b></td>
        <td width="35%">
          <span *ngIf="flight.speed">{{flight.speed | number:'1.0'}}<small>kt</small></span>
          <span *ngIf="!flight.speed">&mdash;</span>
        </td>
      </tr>
      <tr>
        <td matTooltip="Vertical Rate"><b>VRT</b></td>
        <td>
          <span *ngIf="flight.verticalRate != null">{{flight.verticalRate | number:'1.0'}}<small>ft/min</small></span>
          <span *ngIf="flight.verticalRate == null">&mdash;</span>
        </td>
        <td matTooltip="Course"><b>CRS</b></td>
        <td>
          <span *ngIf="flight.heading">{{flight.heading | number:'3.0'}}&deg;</span>
          <span *ngIf="!flight.heading">&mdash;</span>
        </td>
      </tr>
      <tr>
        <td matTooltip="Latitude"><b>LAT</b></td>
        <td>
          <span *ngIf="flight.lat">{{flight.lat | number:'1.5-5'}}</span>
          <span *ngIf="!flight.lat">&mdash;</span>
        </td>
        <td matTooltip="Longitude"><b>LON</b></td>
        <td>
          <span *ngIf="flight.lon">{{flight.lon | number:'1.5-5'}}</span>
          <span *ngIf="!flight.lon">&mdash;</span>
        </td>
      </tr>
      <tr>
        <td matTooltip="Distance"><b>DST</b></td>
        <td>
          <span *ngIf="distance">{{distance | number:'1.1-1'}}<small>nm</small></span>
          <span *ngIf="!distance">&mdash;</span>
        </td>
        <td matTooltip="Last contact"><b>LCT</b></td>
        <td>
          <span *ngIf="flight.age">{{flight.age / 1000 | number:'1.0-0'}}<small>sec</small></span>
          <span *ngIf="!flight.age">&mdash;</span>
        </td>
      </tr>
    </table>

    <table *ngIf="!flight" cellpadding="0" cellspacing="0" border="0" width="100%">
      <tr>
        <td style="background: red; color: white; text-align: center"><b>CONTACT LOST</b></td>
      </tr>

    </table>
  </mat-card-content>
</mat-card>
